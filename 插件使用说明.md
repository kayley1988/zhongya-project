# 工程机械信息一站式聚合查询系统 - 油猴插件

## 功能特色

🏗️ **智能识别** - 自动识别工程机械关键词，支持型号、品牌、吨位等多种输入方式  
⚡ **一键查询** - 选中关键词，右键或按Ctrl+Shift+M即可查询  
📊 **全面信息** - 整合参数、新机价格、二手价格、租赁价格四大类信息  
💾 **智能缓存** - 自动缓存查询结果7天，提升查询速度  
🎨 **优雅界面** - 现代化弹窗设计，支持拖拽和折叠功能  

## 安装教程

### 第一步：安装Tampermonkey插件

1. **Chrome浏览器**：访问[Chrome网上应用店](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)
2. **Edge浏览器**：访问[Microsoft Edge插件商店](https://microsoftedge.microsoft.com/addons/detail/tampermonkey/iikmkjmpaadaobahmlepeloendndfphd)
3. **Firefox浏览器**：安装Greasemonkey或Tampermonkey
4. **国产浏览器**：通常自带类似功能，或可安装Tampermonkey

### 第二步：安装脚本

1. 点击浏览器工具栏中的Tampermonkey图标
2. 选择"添加新脚本"
3. 删除默认代码，复制粘贴 `machinery-query.user.js` 中的完整代码
4. 按Ctrl+S保存，脚本自动启用

### 第三步：开始使用

1. 在任意网页中选中工程机械关键词（如"徐工XCT25"）
2. 右键选择菜单中的"🏗️ 查询工程机械信息"
3. 或直接按快捷键 `Ctrl+Shift+M`
4. 查看弹出的详细信息窗口

## 使用方法

### 支持的关键词格式

| 格式类型 | 示例 | 说明 |
|---------|------|------|
| **标准型号** | XCT25、XCT50、STC250T | 直接输入完整型号 |
| **吨位描述** | 25吨汽车吊、50吨起重机 | 吨位+设备类型 |
| **品牌组合** | 徐工25吨、三一50吨 | 品牌+吨位 |
| **模糊匹配** | 25吨吊车、汽车吊25T | 支持多种表达方式 |

### 查询操作

1. **鼠标操作**：选中关键词 → 右键菜单 → 点击查询选项
2. **键盘快捷键**：选中关键词 → 按 `Ctrl+Shift+M`
3. **ESC键**：关闭当前弹窗

### 信息展示

弹窗包含四个主要部分，每个部分都可以折叠/展开：

- **📋 核心参数** - 起重量、臂长、发动机等技术规格
- **💰 新机价格** - 官方指导价和经销商实际报价
- **🔄 二手机价格** - 不同车龄的价格区间和车况说明
- **🏗️ 租赁价格** - 台班价、月租价、年租价

## 内置设备数据

目前支持以下主流机型：

### 徐工系列
- **XCT25** - 25吨汽车吊
- **XCT50** - 50吨汽车吊

### 三一系列  
- **STC250T** - 25吨汽车吊

### 数据内容
每个机型包含：
- ✅ 8项核心技术参数
- ✅ 新机官方指导价和经销商报价
- ✅ 3个车龄段的二手机价格
- ✅ 台班/月租/年租三种租赁价格

## 高级功能

### 智能缓存
- 查询结果自动缓存7天
- 避免重复网络请求，提升查询速度
- 支持手动刷新获取最新数据

### 界面交互
- **拖拽移动** - 点击标题栏可拖动弹窗位置
- **折叠展开** - 点击章节标题可折叠/展开内容
- **一键关闭** - 点击×号或按ESC键关闭弹窗

### 价格对比
- 高亮显示最优价格
- 区分官方价格和实际成交价
- 提供租赁vs购买的成本参考

## 扩展说明

### 添加新机型数据

如需添加更多机型，可编辑脚本中的 `machineryDatabase` 对象：

```javascript
'新机型代码': {
    name: '设备全称',
    params: {
        '参数名1': '参数值1',
        '参数名2': '参数值2'
    },
    newPrice: {
        official: '价格区间',
        dealer: '经销商价格',
        source: '价格来源'
    },
    usedPrice: [
        { age: '车龄', price: '价格', condition: '车况' }
    ],
    rentPrice: {
        daily: '台班价',
        monthly: '月租价',
        yearly: '年租价',
        includes: '费用说明'
    }
}
```

### 自定义样式

可修改脚本开头的 `styles` 变量来自定义弹窗外观，包括：
- 颜色主题
- 字体大小
- 弹窗尺寸
- 动画效果

## 技术特点

- **零依赖** - 纯JavaScript实现，无需额外库
- **高兼容** - 支持所有主流浏览器
- **轻量级** - 脚本大小约15KB，加载迅速
- **安全性** - 本地运行，不收集用户数据
- **可扩展** - 模块化设计，易于添加新功能

## 常见问题

**Q: 为什么有些机型查询不到信息？**  
A: 目前内置数据库包含常见机型，后续会持续扩充。可手动添加所需机型数据。

**Q: 价格信息是否实时更新？**  
A: 价格数据每7天自动刷新，也可手动点击"🔄 刷新数据"获取最新信息。

**Q: 脚本会影响网页正常浏览吗？**  
A: 不会。脚本采用轻量级设计，仅在查询时显示弹窗，不影响原网页功能。

**Q: 如何卸载脚本？**  
A: 在Tampermonkey管理面板中找到脚本，点击删除即可。

## 更新日志

### v1.0.0 (2024-12-30)
- ✨ 初始版本发布
- ✅ 支持3个主流机型查询
- ✅ 实现智能关键词识别
- ✅ 完成四类信息整合展示
- ✅ 添加缓存和界面交互功能

---

**开发者**: Engineering Assistant  
**技术支持**: 如有问题请通过工作区反馈  
**版本**: 1.0.0  
**更新时间**: 2024年12月30日